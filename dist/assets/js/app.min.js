function collate_config(){return{url:"/collate",views:{content:{templateUrl:"/views/collate.html",controller:"CollateController",controllerAs:"collate"}}}}function dashboard_config(){return{url:"/dashboard",views:{content:{templateUrl:"/views/dashboard.html",controller:"DashboardController",controllerAs:"dashboard"}}}}function decide_config(){return{url:"/decide",views:{content:{templateUrl:"/views/decide.html",controller:"DecideController",controllerAs:"decide"}}}}function home_config(){return{url:"/",views:{content:{templateUrl:"/views/home.html",controller:"HomeController",controllerAs:"home"}}}}function main_config(){return{abstract:!0,views:{layout:{controller:"MainController",controllerAs:"main"}},resolve:{contacts:["contactsFactory",function(e){return e.getContacts()}]}}}function project_config(){return{url:"/project",views:{content:{templateUrl:"/views/project.html",controller:"ProjectController",controllerAs:"project"}}}}function understand_config(){return{url:"/understand",views:{content:{templateUrl:"/views/understand.html",controller:"UnderstandController",controllerAs:"understand"}}}}!function(){"use strict";angular.module("nhs",["ui.router","ngAnimate","ngSanitize","chart.js"])}(),function(){"use strict";function e(e,t,a,n,s){e.classes=[],e.$on("$stateChangeStart",function(t,a,n,s,i,o){e.classes=[],e.fixed=!1,e.loading=!0}),e.$on("$stateChangeSuccess",function(a,n,s,i,o,r){t.scrollTo(0,0),e.loading=!1,e.classes.push(n.name.split(".").join("-").replace("_","-"))})}angular.module("nhs").run(e),e.$inject=["$rootScope","$window","$timeout","$state","$location"]}(),function(){"use strict";function e(e,t,a,n,s,i,o,r,l){a.html5Mode(!0),n.useApplyAsync(!0),t.rule(function(e,t){var a=t.path();if("/"===a[a.length-1])return a.substr(0,a.length-1)}),l.setOptions({colors:["#803690","#E8EDEE","#DA291C","#00A499","#FAE100","#768692","#425563"],legend:{display:!0,position:"bottom"},global:{defaultFontFamily:"raleway",defaultFontSize:11,defaultFontStyle:"700"},animation:{duration:2e3}}),t.otherwise("main.home"),e.state("main",main_config()).state("main.understand",understand_config()).state("main.project",project_config()).state("main.decide",decide_config()).state("main.collate",collate_config()).state("main.dashboard",dashboard_config()).state("main.home",home_config())}angular.module("nhs").config(e),e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider","$sceDelegateProvider","$urlMatcherFactoryProvider","$provide","$qProvider","ChartJsProvider"]}(),function(){"use strict";function e(e,t,a){var n=this;n.random_user=Math.floor(1e3*Math.random()+1),e.$broadcast("collate"),n.chart={},n.chart.labels=["2019","2020","2021","2022","2023","2024"],n.chart.series=["BUDGET","HIP REPLACEMENTS","TRAMADOL PRESCRIPTIONS"],n.chart.data=[[5,10,15,20,25,30,35],[10,14,18,32,26,48,48],[16,22,28,38,42,24,10]],n.switch_model=[!0,!1,!0,!0,!1],n.slider_models=[40,80,12,26],n.show_query_results=function(e){e.preventDefault(),n.reveal_results=!0},n.clear_query=function(){},n.randomize=function(){n.chart.data=n.chart.data.map(function(e){return e.map(function(e){return e=e+4*Math.random()-2,parseInt(e<0?0:e>100?100:e)})})},n.increment=function(e,t){n.chart.data=n.chart.data.map(function(a){return a.map(function(a){return e=Math.ceil(e),t=Math.floor(t),a+Math.floor(Math.random()*(t-e))+e})})},n.real_time=a(function(){n.increment(1,3)},5e3),n.open_case_study=function(e){n.case_study_open=!0,n.case_study_title=e+" Case Study"},n.case_study={},n.case_study.labels=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],n.case_study.series=["Budget"],n.case_study.data=[[6,8.2,7.5,5.4,5.8,6.2,6.3,6.58,5.4,5.2,4.8,4]],n.uptake={series:["NHS Croydon CCG","NHS Aylesbury Vale CCG","HS Cumbria CCG","NHS Medway CCG"],labels:["Previous surgery","Living Arrangements","Disability","Heart Disease","High Blood Pressure","Stroke","Circulation","Lung Disease","Diabets","Cancer","Depression","Arthritis"],data:[["4","3","8","7","7","6","4","7","2","2","4","7"],["6","2","7","5","6","5","3","6","2","1","5","6"],["8","1","3","3","9","6","5","8","3","5","3","7"],["7","5","5","5","5","6","4","7","2","2","4","5"]],options:{scales:{xAxes:[{barThickness:4}],yAxes:[{barThickness:4}]}}},n.enable_fragility=!0,n.enable_obesity=!0,n.enable_physio=!0,n.enable_lifestyle=!0,n.availability={series:["Leeds General Infirmary","St Jamess University Hospital","Chapel Allerton Hospital","Seacroft Hospital","Wharfedale Hospital"],labels:["Clinicians","Surgeons","Beds","Nursing staff"],data:[["24","48","42","63","43"],["31","29","36","15","47"],["27","22","52","14","52"],["28","19","42","39","18"],["36","15","37","28","58"],["29","26","49","45","65"]],options:{scales:{xAxes:[{barThickness:4}],yAxes:[{barThickness:4}]}}},n.increment_availability=function(){angular.forEach(n.availability.data,function(e,t){angular.forEach(e,function(e,a){if(Math.random()<.5){var s=Math.ceil(parseInt(e)-2),i=Math.floor(parseInt(e)+2);n.availability.data[t][a]=Math.random()*(i-s)+s}})})},n.real_time_availability=a(function(){n.increment_availability()},3e3),t.$on("$destroy",function(){a.cancel(n.real_time),a.cancel(n.real_time_availability),n=null})}angular.module("nhs").controller("CollateController",e),e.$inject=["$rootScope","$scope","$interval"]}(),function(){"use strict";function e(e,t,a){var n=this;n.contacts=a,n.hide_suggestions=function(){n.block_remove||(n.show_suggestions=!1)},n.select_user=function(e){n.block_remove=!1,n.show_suggestions=!1},n.set_active_day=function(e){angular.element(".day.active").removeClass("chosen"),angular.element(e.target).addClass("chosen")},e.$on("$destroy",function(){n=null})}angular.module("nhs").controller("DecideController",e),e.$inject=["$scope","$rootScope","contacts"]}(),function(){"use strict";function e(e,t){var a=this;a.contacts=t,a.graph={labels:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],series:["Projected","Actual"],data:[["8.333333333333333","16.666666666666667","25","33.333333333333333","41.666666666666666","50","58.333333333333333","66.666666666666666","75","83.333333333333333","91.666666666666666","100"],["9","14","21","28","75"]]},e.$on("$destroy",function(){a=null})}angular.module("nhs").controller("DashboardController",e),e.$inject=["$scope","contacts"]}(),function(){"use strict";function e(e,t){var a=this;t.go("main.understand"),e.$on("$destroy",function(){a=null})}angular.module("nhs").controller("HomeController",e),e.$inject=["$scope","$state"]}(),function(){"use strict";function e(e){function t(t){function a(e){return e.data}function n(e){console.log("XHR Failed for getContacts."+e.data)}return e.get("/assets/js/contacts.js").then(a).catch(n)}return{getContacts:t}}angular.module("nhs").factory("contactsFactory",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t,a,n,s,i,o){var r=this;r.contacts=n,t.mobile=e.innerWidth<961,r.reset_menus=function(){s(function(){r&&(r.menu_open=!t.mobile)})},r.toggle_menu=function(){r.menu_open=!r.menu_open},r.reset_menus(),r.is_mobile=function(){s(function(){t.mobile=e.innerWidth<961,r.reset_menus(),t.$broadcast("window-resized")})},r.resize_event=function(){s.cancel(r.after_resize),r.after_resize=s(function(){r.is_mobile()},750)},angular.element(e).on("resize",r.resize_event),a.$on("$stateChangeStart",r.reset_menus),r.toggle_chat=function(){s(function(){r.chat_open?t.classes.splice(t.classes.indexOf("chat-open"),1):t.classes.push("chat-open"),r.chat_open=!r.chat_open})},r.random_users=[Math.floor(1e3*Math.random()+1),Math.floor(1e3*Math.random()+1),Math.floor(1e3*Math.random()+1),Math.floor(1e3*Math.random()+1)],r.message_list=[],angular.forEach(r.random_users,function(e,t){r.message_list.push(r.contacts[e]),r.message_list[t].messages[0].date=(new Date).toDateString()}),r.message_provider=o(function(){var e=Math.floor(900*Math.random()+1);r.message_list.unshift(r.contacts[e]);var t=new Date;r.message_list[0].messages[0].date=t.toDateString()+" - "+t.toLocaleTimeString(),r.message_timeout&&(s.cancel(r.message_timeout),r.message=null),r.message_added="New message from "+r.contacts[e].first_name+" "+r.contacts[e].last_name,r.message_timeout=s(function(){r.message_added=null},3200),r.message_list.length>19&&r.message_list.pop()},Math.floor(17e3*Math.random()+5e3)),a.$on("$stateChangeStart",function(){r.chat_open=!1,t.classes.indexOf("chat-open")>-1&&t.classes.splice(t.classes.indexOf("chat-open"),1)}),r.listen=a.$on("collate",function(){r.chat_open=!0,t.classes.push("chat-open")}),a.$on("$destroy",function(){r=null})}angular.module("nhs").controller("MainController",e),e.$inject=["$window","$rootScope","$scope","contacts","$timeout","$state","$interval"]}(),function(){"use strict";function e(){return{restrict:"E",template:'<div class="loader-wrap" data-ng-if="loading"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="4" stroke-miterlimit="10"/></svg></div>'}}angular.module("nhs").directive("siteLoader",e)}(),function(){"use strict";function e(e,t){var a=this;a.random_user=Math.floor(1e3*Math.random()+1),a.chart={},a.chart.labels=["2019","2020","2021","2022","2023","2024"],a.chart.series=["BUDGET","HIP REPLACEMENTS","TRAMADOL PRESCRIPTIONS"],a.chart.data=[[5,10,15,20,25,30,35],[10,14,18,32,26,48,48],[16,22,28,38,42,24,10]],a.switch_model=[!0,!1,!0,!0,!1],a.slider_models=[40,80,12,26],a.show_query_results=function(e){e.preventDefault(),a.reveal_results=!0},a.clear_query=function(){},a.randomize=function(){a.chart.data=a.chart.data.map(function(e){return e.map(function(e){return e=e+4*Math.random()-2,parseInt(e<0?0:e>100?100:e)})})},a.increment=function(e,t){a.chart.data=a.chart.data.map(function(a){return a.map(function(a){return e=Math.ceil(e),t=Math.floor(t),a+Math.floor(Math.random()*(t-e))+e})})},a.real_time=t(function(){a.increment(1,3)},5e3),a.open_case_study=function(e){a.case_study_open=!0,a.case_study_title=e+" Case Study"},a.case_study={},a.case_study.labels=["2019","2020","2021","2022","2023"],a.case_study.series=["HIP REPLACEMENTS","WEATHER","TRAMADOL PRESCRIPTIONS"],a.case_study.data=[[4,12,60,54,72,90],[10,14,18,32,26,48],[16,22,28,38,42,48]],angular.forEach(a.case_study.data,function(e,t){a.case_study.data[t].reverse()}),a.uptake={series:["NHS Croydon CCG","NHS Aylesbury Vale CCG","HS Cumbria CCG","NHS Medway CCG"],labels:["Previous surgery","Living Arrangements","Disability","Heart Disease","High Blood Pressure","Stroke","Circulation","Lung Disease","Diabets","Cancer","Depression","Arthritis"],data:[["4","3","8","7","7","6","4","7","2","2","4","7"],["6","2","7","5","6","5","3","6","2","1","5","6"],["8","1","3","3","9","6","5","8","3","5","3","7"],["7","5","5","5","5","6","4","7","2","2","4","5"]],options:{scales:{xAxes:[{barThickness:4}],yAxes:[{barThickness:4}]}}},a.enable_fragility=!0,a.enable_obesity=!0,a.enable_physio=!0,a.enable_lifestyle=!0,a.availability={series:["Leeds General Infirmary","St Jamess University Hospital","Chapel Allerton Hospital","Seacroft Hospital","Wharfedale Hospital"],labels:["Clinicians","Surgeons","Beds","Nursing staff"],data:[["24","48","42","63","43"],["31","29","36","15","47"],["27","22","52","14","52"],["28","19","42","39","18"],["36","15","37","28","58"],["29","26","49","45","65"]],options:{scales:{xAxes:[{barThickness:4}],yAxes:[{barThickness:4}]}}},a.increment_availability=function(){angular.forEach(a.availability.data,function(e,t){angular.forEach(e,function(e,n){if(Math.random()<.5){var s=Math.ceil(parseInt(e)-2),i=Math.floor(parseInt(e)+2);a.availability.data[t][n]=Math.random()*(i-s)+s}})})},a.real_time_availability=t(function(){a.increment_availability()},3e3),e.$on("$destroy",function(){t.cancel(a.real_time),t.cancel(a.real_time_availability),a=null})}angular.module("nhs").controller("ProjectController",e),e.$inject=["$scope","$interval"]}(),function(){"use strict";function e(e,t,a){var n=this;n.random_user=Math.floor(1e3*Math.random()+1),n.chart={},n.chart.labels=["2019","2020","2021","2022","2023"],n.chart.series=["BUDGET","HIP REPLACEMENTS","TRAMADOL PRESCRIPTIONS"],n.chart.data=[[5,10,15,20,25,30],[10,14,18,32,26,48],[16,22,28,38,42,48]],n.uptake={},n.uptake.labels=["Pregnant","6 months - 65 at risk","65+"],n.uptake.series=["Registered patients","2016 uptake","Projected uptake"],n.uptake.legend=["Total patients","2016 uptake","Projected uptake"],n.uptake.data=[[20491,14429,1376],[14606,5865,633],[18200,10500,1100]],angular.forEach(n.uptake.data,function(e,t){n.uptake.data[t].reverse()}),n.result_chart={},n.result_chart.data=["38"],n.result_chart.labels=["38"],n.result_chart.series=["West Chesire"],n.result_chart.options={legend:{display:!1}},n.update_chart=function(){n.result_chart.data=["38","32","47","22"],n.result_chart.labels=["38","32","47","22"],n.result_chart.series=["West Chesire","Bracknell And Ascot","Brent","Cannock Chase"]},n.open_case_study=function(e){n.case_study_open=!0,n.case_study_title=e+" Case Study"},n.search=function(){n.query&&(n.show_results?(n.show_second_query_data=!0,n.update_chart()):n.show_results=!0)},n.case_study={},n.case_study.labels=["2019","2020","2021","2022","2023"],n.case_study.series=["HIP REPLACEMENTS","WEATHER","TRAMADOL PRESCRIPTIONS"],n.case_study.data=[[4,12,60,54,72,90],[10,14,18,32,26,48],[16,22,28,38,42,48]],angular.forEach(n.case_study.data,function(e,t){n.case_study.data[t].reverse()}),n.initialize_capabilities=function(){n.hospital_capabilities=[{title:"Leeds General Infirmary",count:114,width:"0%"},{title:"St James's University Hospital",count:86,width:"0%"},{title:"Chapel Allerton Hospital",count:65,width:"0%"},{title:"Leeds Children's Hospital",count:58,width:"0%"},{title:"Leeds Dental Institute",count:87,width:"0%"},{title:"Seacroft Hospital",count:87,width:"0%"},{title:"Wharfedale Hospital",count:97,width:"0%"}]},n.initialize_capabilities(),n.animate_number=function(e,t,s,i){n.interval||(n.interval=[]),n.interval[s]=a(function(){n.hospital_capabilities[s].display_count=e,e==t?(e>95&&(n.hospital_capabilities[s].pulse=!0),a.cancel(n.interval[s])):e++},i)},n.reveal_capability=function(e){t(function(){n.animate_number(0,n.hospital_capabilities[e].count,e,10),n.hospital_capabilities[e].count>90&&(n.hospital_capabilities[e].alert=!0),t(function(){n.hospital_capabilities[e].width=n.hospital_capabilities[e].count>100?"100%":n.hospital_capabilities[e].count+"%"},200),e<n.hospital_capabilities.length-1&&n.reveal_capability(e+1)},400)},n.toggle_capabilities=function(){n.show_at_risk_areas?angular.forEach(n.hospital_capabilities,function(e,t){n.initialize_capabilities()}):n.reveal_capability(0),n.show_at_risk_areas=!n.show_at_risk_areas},e.$on("$destroy",function(){n=null})}angular.module("nhs").controller("UnderstandController",e),e.$inject=["$scope","$timeout","$interval"]}();
//# sourceMappingURL=app.min.js.map
