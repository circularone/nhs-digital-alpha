{"version":3,"sources":["nhs.module.js","nhs.run.js","nhs.config.js","state-configurations/collate.config.js","state-configurations/dashboard.config.js","state-configurations/decide.config.js","state-configurations/home.config.js","state-configurations/main.config.js","state-configurations/project.config.js","state-configurations/understand.config.js","dashboard/js/dashboard.controller.js","collate/js/collate.controller.js","decide/js/decide.controller.js","home/js/home.controller.js","main/js/contacts.Factory.js","main/js/main.controller.js","main/js/site-loader.directive.js","project/js/project.controller.js","understand/js/understand.controller.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.min.js","sourcesContent":[" (function() {\n\n\t'use strict';\n\n\tangular\n\t\t.module('nhs', [\n\t\t\t'ui.router',\n\t\t\t'ngAnimate',\n\t\t\t'ngSanitize',\n\t\t\t'chart.js'\n\t\t]);\n\n})();","(function() {\n\n\t'use strict';\n\n\tangular\n\t\t.module( 'nhs' )\n\t\t.run( run );\n\n\trun.$inject = [ '$rootScope', '$window', '$timeout', '$state', '$location' ];\n\n\tfunction run( $rootScope, $window, $timeout, $state, $location ) {\n\n\t\t// Body classes\n\n\t\t$rootScope.classes = [];\n\n\t\t// State change start\n\n\t\t$rootScope.$on( '$stateChangeStart', function( event, toState, toParams, fromState, fromParams, options ) {\n\t\t\t$rootScope.classes = [];\n\t\t\t$rootScope.fixed = false;\n\t\t\t$rootScope.loading = true;\n\t\t});\n\n\n\t\t// State change success\n\n\t\t$rootScope.$on( '$stateChangeSuccess', function( event, toState, toParams, fromState, fromParams, options ) {\n\t\t\t$window.scrollTo(0, 0);\n\t\t\t$rootScope.loading = false;\n\t\t\t$rootScope.classes.push( toState.name.split( '.' ).join( '-' ).replace( '_', '-' ) );\n\t\t});\n\n\t}\n\n})();"," (function() {\n\n \t'use strict';\n\n \tangular\n\t \t.module( 'nhs' )\n\t \t.config( config );\n\n \tconfig.$inject = [ '$stateProvider', '$urlRouterProvider', '$locationProvider', '$httpProvider', '$sceDelegateProvider', '$urlMatcherFactoryProvider', '$provide', '$qProvider', 'ChartJsProvider' ];\n\n \tfunction config( $stateProvider, $urlRouterProvider, $locationProvider, $httpProvider, $sceDelegateProvider, $urlMatcherFactoryProvider, $provide, $qProvider, ChartJsProvider ) {\n\n \t\t// HTML5 mode for pretty URLs\n\n \t\t$locationProvider.html5Mode( true );\n\n \t\t$httpProvider.useApplyAsync( true );\n\n \t\t// Remove any trailing slashes from URLs as they break ui-router\n\n\t\t$urlRouterProvider.rule(function( $injector, $location ) {\n\t\t\tvar path = $location.path();\n\t\t\tvar hasTrailingSlash = path[path.length-1] === '/';\n\t\t\tif( hasTrailingSlash ) {\n\t\t\t\tvar newPath = path.substr( 0, path.length - 1 ); \n\t\t\t\treturn newPath; \n\t\t\t} \n\t\t});\n\n\t\tChartJsProvider.setOptions({ \n\t\t\tcolors : [ \n\t\t\t\t'#803690', \n\t\t\t\t'#E8EDEE', \n\t\t\t\t'#DA291C', \n\t\t\t\t'#00A499', \n\t\t\t\t'#FAE100', \n\t\t\t\t'#768692', \n\t\t\t\t'#425563'\n\t\t\t],\n\t\t\tlegend: {\n\t\t\t\tdisplay: true,\n\t\t\t\tposition: 'bottom'\n\t\t\t},\n\t\t\tglobal: {\n\t\t\t\tdefaultFontFamily: 'raleway',\n\t\t\t\tdefaultFontSize: 11,\n\t\t\t\tdefaultFontStyle: '700'\n\t\t\t},\n\t\t\tanimation: {\n\t\t\t\tduration: 2000\n\t\t\t}\n\t\t});\n\n\t\t// Catch all non defined routes\n\n\t\t$urlRouterProvider.otherwise( 'main.home' );\n\n\t\t// Main abstract parent state\n\n\t\t$stateProvider\n\n\t\t// Main\n\n\t\t.state( 'main', main_config() )\n\n\t\t// Understand \n\n\t\t.state( 'main.understand', understand_config() )\n\n\t\t// Project \n\n\t\t.state( 'main.project', project_config() )\n\n\t\t// Decide\n\n\t\t.state( 'main.decide', decide_config() )\n\n\t\t// Collate\n\n\t\t.state( 'main.collate', collate_config() )\n\n\t\t// Dashboard\n\n\t\t.state( 'main.dashboard', dashboard_config() )\n\n\t\t// Home (redundant - transitions to understand)\n\n\t\t.state( 'main.home', home_config() );\n\n\t}\n\n})();","function collate_config( ) {\n\n\treturn {\n\t\turl: '/collate',\n\t\tviews: {\n\t\t\t'content': {\n\t\t\t\ttemplateUrl: '/views/collate.html',\n\t\t\t\tcontroller: 'CollateController',\n\t\t\t\tcontrollerAs: 'collate'\n\t\t\t}\n\t\t}\n\t};\n\n}","function dashboard_config() {\n\n\treturn {\n\t\turl: '/dashboard',\n\t\tviews: {\n\t\t\t'content': {\n\t\t\t\ttemplateUrl: '/views/dashboard.html',\n\t\t\t\tcontroller: 'DashboardController',\n\t\t\t\tcontrollerAs: 'dashboard'\n\t\t\t}\n\t\t}\n\t};\n\n}","function decide_config() { \n\n\treturn {\n\t\turl: '/decide',\n\t\tviews: {\n\t\t\t'content': {\n\t\t\t\ttemplateUrl: '/views/decide.html',\n\t\t\t\tcontroller: 'DecideController',\n\t\t\t\tcontrollerAs: 'decide'\n\t\t\t}\n\t\t}\n\t};\n\n}","function home_config() {\n\n\treturn {\n\t\turl: '/',\n\t\tviews: {\n\t\t\t'content': {\n\t\t\t\ttemplateUrl: '/views/home.html',\n\t\t\t\tcontroller: 'HomeController',\n\t\t\t\tcontrollerAs: 'home'\n\t\t\t}\n\t\t}\n\t};\n\n}","function main_config() {\n\n\treturn {\n\t\tabstract: true,\n\t\tviews: {\n\t\t\t'layout': {\n\t\t\t\tcontroller: 'MainController',\n\t\t\t\tcontrollerAs: 'main'\n\t\t\t}\n\t\t},\n\t\tresolve: {\n\t\t\tcontacts: [ 'contactsFactory', function( contactsFactory ) {\n\t\t\t\treturn contactsFactory.getContacts();\t\n\t\t\t}]\n\t\t}\n\t};\n\n}","function project_config( ) {\n\n\treturn {\n\t\turl: '/project',\n\t\tviews: {\n\t\t\t'content': {\n\t\t\t\ttemplateUrl: '/views/project.html',\n\t\t\t\tcontroller: 'ProjectController',\n\t\t\t\tcontrollerAs: 'project'\n\t\t\t}\n\t\t}\n\t};\n\n}","function understand_config( ) {\n\n\treturn {\n\t\turl: '/understand',\n\t\tviews: {\n\t\t\t'content': {\n\t\t\t\ttemplateUrl: '/views/understand.html',\n\t\t\t\tcontroller: 'UnderstandController',\n\t\t\t\tcontrollerAs: 'understand'\n\t\t\t}\n\t\t}\n\t};\n\n}","(function() {\n\n\t'use strict';\n\n\tangular\n\t\t.module( 'nhs' )\n\t\t.controller( 'DashboardController', DashboardController );\n\n\tDashboardController.$inject = [ '$scope', 'contacts' ];\n\n\tfunction DashboardController( $scope, contacts ) {\n\n\t\tvar dashboard = this;\n\t\tdashboard.contacts = contacts;\n\n\t\tdashboard.graph = {\n\t\t\tlabels: [\"JAN\",\"FEB\",\"MAR\",\"APR\",\"MAY\", \"JUN\", \"JUL\", \"AUG\", \"SEP\", \"OCT\", \"NOV\", \"DEC\"],\n\t\t\tseries: ['Projected','Actual'],\n\t\t\tdata: [\n\t\t\t\t[\n\t\t\t\t\t'8.333333333333333',\n\t\t\t\t\t'16.666666666666667',\n\t\t\t\t\t'25',\n\t\t\t\t\t'33.333333333333333',\n\t\t\t\t\t'41.666666666666666',\n\t\t\t\t\t'50',\n\t\t\t\t\t'58.333333333333333',\n\t\t\t\t\t'66.666666666666666',\n\t\t\t\t\t'75',\n\t\t\t\t\t'83.333333333333333',\n\t\t\t\t\t'91.666666666666666',\n\t\t\t\t\t'100'\n\t\t\t\t],\n\t\t\t\t['9','14','21','28','75']\n\t\t\t]\n\t\t};\n\n\t\t$scope.$on( '$destroy', function() {\n\t\t\tdashboard = null;\n\t\t});\n\n\t}\n\t\n})();","(function() {\n\t'use strict';\n\n\tangular\n\t.module( 'nhs' )\n\t.controller( 'CollateController', CollateController );\n\n\tCollateController.$inject = [ '$rootScope', '$scope', '$interval' ];\n\n\tfunction CollateController( $rootScope, $scope, $interval ) {\n\n\t\tvar collate = this;\n\t\tcollate.random_user = Math.floor( ( Math.random() * 1000 ) + 1 );\n\n\t\t$rootScope.$broadcast( 'collate' );\n\n\t\t// Top graph\n\n\t\tcollate.chart = {};\n\t\tcollate.chart.labels = [\"2019\", \"2020\", \"2021\", \"2022\", \"2023\", \"2024\"];\n\t\tcollate.chart.series = ['BUDGET', 'HIP REPLACEMENTS', 'TRAMADOL PRESCRIPTIONS'];\n\t\tcollate.chart.data = [\n\t\t\t[5, 10, 15, 20, 25, 30, 35],\n\t\t\t[10, 14, 18, 32, 26, 48, 48],\n\t\t\t[16, 22, 28, 38, 42, 24, 10]\n\t\t];\n\n\t\t// Switch models\n\n\t\tcollate.switch_model = [\n\t\t\ttrue, \n\t\t\tfalse,\n\t\t\ttrue,\n\t\t\ttrue,\n\t\t\tfalse\n\t\t];\n\n\t\t// Slider models\n\n\t\tcollate.slider_models = [\n\t\t\t40,\n\t\t\t80,\n\t\t\t12,\n\t\t\t26\n\t\t];\n\n\t\tcollate.show_query_results = function(event) {\n\t\t\tevent.preventDefault();\n\t\t\tcollate.reveal_results = true;\n\t\t};\n\n\t\tcollate.clear_query = function() {\n\n\t\t};\n\n\t\t// Randomise based on user action\n\n\t\tcollate.randomize = function () {\n\t\t\tcollate.chart.data = collate.chart.data.map( function( data ) {\n\t\t\t\treturn data.map(function (y) {\n\t\t\t\t\ty = y + Math.random() * 4 - 2;\n\t\t\t\t\treturn parseInt(y < 0 ? 0 : y > 100 ? 100 : y);\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tcollate.increment = function( min, max ) {\n\t\t\tcollate.chart.data = collate.chart.data.map( function( data ) {\n\t\t\t\treturn data.map( function( y ) {\n\t\t\t\t\tmin = Math.ceil( min );\n\t\t\t\t\tmax = Math.floor( max );\n\t\t\t\t\treturn y + Math.floor(Math.random() * ( max - min ) ) + min;\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tcollate.real_time = $interval( function() {\n\t\t\tcollate.increment( 1, 3 );\n\t\t}, 5000 );\n\n\n\t\tcollate.open_case_study = function( title ) {\n\t\t\tcollate.case_study_open = true;\n\t\t\tcollate.case_study_title = title + ' Case Study';\n\t\t};\n\n\t\t// Case study graph\n\n\t\tcollate.case_study = {};\n\t\tcollate.case_study.labels = [\"JAN\", \"FEB\", \"MAR\", \"APR\", \"MAY\", \"JUN\", \"JUL\", \"AUG\", \"SEP\", \"OCT\", \"NOV\", \"DEC\"];\n\t\tcollate.case_study.series = ['Budget'];\n\t\tcollate.case_study.data = [\n\t\t\t[6, 8.2, 7.5, 5.4, 5.8, 6.2, 6.3, 6.58, 5.4, 5.2, 4.8, 4],\n\t\t];\n\n\t\t// angular.forEach( collate.case_study.data, function( value, key ) {\n\t\t// \tcollate.case_study.data[key].reverse();\n\t\t// });\n\n\t\tcollate.uptake = {\n\t\t\tseries: [\n\t\t\t\t'NHS Croydon CCG',\n\t\t\t\t'NHS Aylesbury Vale CCG',\n\t\t\t\t'HS Cumbria CCG',\n\t\t\t\t'NHS Medway CCG'\n\t\t\t],\n\t\t\tlabels: [\"Previous surgery\",\"Living Arrangements\",\"Disability\",\"Heart Disease\",\"High Blood Pressure\",\"Stroke\",\"Circulation\",\"Lung Disease\",\"Diabets\",\"Cancer\",\"Depression\",\"Arthritis\"],\n\t\t\tdata: [\n\t\t\t\t[\"4\",\"3\",\"8\",\"7\",\"7\",\"6\",\"4\",\"7\",\"2\",\"2\",\"4\",\"7\"], \n\t\t\t\t[\"6\",\"2\",\"7\",\"5\",\"6\",\"5\",\"3\",\"6\",\"2\",\"1\",\"5\",\"6\"], \n\t\t\t\t[\"8\",\"1\",\"3\",\"3\",\"9\",\"6\",\"5\",\"8\",\"3\",\"5\",\"3\",\"7\"], \n\t\t\t\t[\"7\",\"5\",\"5\",\"5\",\"5\",\"6\",\"4\",\"7\",\"2\",\"2\",\"4\",\"5\"]\n\t\t\t],\n\t\t\toptions: {\n\t\t        scales: {\n\t\t            xAxes: [{\n\t\t                barThickness: 4\n\t\t            }],\n\t\t            yAxes: [{\n\t\t                barThickness: 4\n\t\t            }]\n\t\t        }\n\t\t\t}\n\t\t};\n\n\t\tcollate.enable_fragility = true;\n\t\tcollate.enable_obesity = true;\n\t\tcollate.enable_physio = true;\n\t\tcollate.enable_lifestyle = true;\n\n\t\t// Availability chart\n\n\t\tcollate.availability = {\n\t\t\tseries: [\n\t\t\t\t'Leeds General Infirmary',\n\t\t\t\t'St Jamess University Hospital',\n\t\t\t\t'Chapel Allerton Hospital',\n\t\t\t\t'Seacroft Hospital',\n\t\t\t\t'Wharfedale Hospital'\n\t\t\t],\n\t\t\tlabels: [\n\t\t\t\t'Clinicians',\n\t\t\t\t'Surgeons',\n\t\t\t\t'Beds',\n\t\t\t\t'Nursing staff'\n\t\t\t],\n\t\t\tdata: [\n\t\t\t\t['24', '48', '42', '63', '43'],\n\t\t\t\t['31', '29', '36', '15', '47'],\n\t\t\t\t['27', '22', '52', '14', '52'],\n\t\t\t\t['28', '19', '42', '39', '18'],\n\t\t\t\t['36', '15', '37', '28', '58'],\n\t\t\t\t['29', '26', '49', '45', '65']\n\t\t\t],\n\t\t\toptions: {\n\t\t        scales: {\n\t\t            xAxes: [{\n\t\t                barThickness: 4\n\t\t            }],\n\t\t            yAxes: [{\n\t\t                barThickness: 4\n\t\t            }]\n\t\t        }\n\t\t\t}\n\t\t};\n\n\t\tcollate.increment_availability = function() {\n\t\t\tangular.forEach( collate.availability.data, function( value, key ) {\n\t\t\t\tangular.forEach( value, function( v, k ) {\n\t\t\t\t\tif( Math.random() < 0.5 ) {\n\t\t\t\t\t\tvar min = Math.ceil( parseInt( v ) - 2 );\n\t\t\t\t\t\tvar max = Math.floor( parseInt( v ) + 2 );\n\t\t\t\t\t\tcollate.availability.data[key][k] = Math.random() * ( max - min ) + min;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tcollate.real_time_availability = $interval( function() {\n\t\t\tcollate.increment_availability();\n\t\t}, 3000 );\n\n\t\t$scope.$on( '$destroy', function() {\n\t\t\t$interval.cancel( collate.real_time );\n\t\t\t$interval.cancel( collate.real_time_availability );\n\t\t\tcollate = null;\n\t\t});\n\n\n\t}\n\n})();","(function() {\n\n\t'use strict';\n\n\tangular\n\t\t.module( 'nhs' )\n\t\t.controller( 'DecideController', DecideController );\n\n\tDecideController.$inject = [ '$scope', '$rootScope', 'contacts' ];\n\n\tfunction DecideController( $scope, $rootScope, contacts ) {\n\n\t\tvar decide = this;\n\t\tdecide.contacts = contacts;\n\n\t\tdecide.hide_suggestions = function() {\n\t\t\tif( ! decide.block_remove ) {\n\t\t\t\tdecide.show_suggestions = false;\n\t\t\t}\n\t\t};\n\n\t\tdecide.select_user = function( index ) {\n\t\t\tdecide.block_remove = false;\n\t\t\tdecide.show_suggestions = false;\n\t\t};\n\n\t\tdecide.set_active_day = function( event ) {\n\t\t\tangular.element( '.day.active' ).removeClass( 'chosen' );\n\t\t\tangular.element( event.target ).addClass( 'chosen' );\n\t\t};\n\n\t\t$scope.$on( '$destroy', function() {\n\t\t\tdecide = null;\n\t\t});\n\n\t}\n\t\n})();","(function() {\n\n\t'use strict';\n\n\tangular\n\t\t.module( 'nhs' )\n\t\t.controller( 'HomeController', HomeController );\n\n\tHomeController.$inject = [ '$scope', '$state' ];\n\n\tfunction HomeController( $scope, $state ) {\n\n\t\tvar home = this;\n\n\t\t// This state now unecessary - go to start of journey\n\n\t\t$state.go( 'main.understand' );\n\n\t\t$scope.$on( '$destroy', function() {\n\t\t\thome = null;\n\t\t});\n\n\t}\n\t\n})();","(function() {\n\n\t'use strict';\n\n\tangular\n\t\t.module( 'nhs' )\n\t\t.factory( 'contactsFactory', contactsFactory );\n\n\tcontactsFactory.$inject = [ '$http' ];\n\n\tfunction contactsFactory( $http ) {\n\n\t\treturn {\n\t\t\tgetContacts: getContacts\n\t\t};\n\n\t\tfunction getContacts( slug ) {\n\t        \n\t\t\treturn $http.get( '/assets/js/contacts.js' )\n\t\t\t\t.then( getContactsComplete )\n\t\t\t\t.catch( getContactsFailed );\n\n\t\t\tfunction getContactsComplete( response ) {\n\t\t\t\treturn response.data;\n\t\t\t}\n\n\t\t\tfunction getContactsFailed( error ) {\n\t\t\t\tconsole.log('XHR Failed for getContacts.' + error.data);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n})();","(function() {\n\n\t'use strict';\n\n\tangular\n\t\t.module( 'nhs' )\n\t\t.controller( 'MainController', MainController );\n\n\tMainController.$inject = [ '$window', '$rootScope', '$scope', 'contacts', '$timeout', '$state', '$interval' ];\n\n\tfunction MainController( $window, $rootScope, $scope, contacts, $timeout, $state, $interval ) {\n\n\t\tvar main = this;\n\t\tmain.contacts = contacts;\n\n\t\t$rootScope.mobile = ( $window.innerWidth < 961 ? true : false );\n\n\t\tmain.reset_menus = function() {\n\t\t\t$timeout( function() {\n\t\t\t\tif( main ) {\n\t\t\t\t\tmain.menu_open = ! $rootScope.mobile;\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tmain.toggle_menu = function() {\n\t\t\tmain.menu_open = ! main.menu_open;\n\t\t};\n\n\t\tmain.reset_menus();\n\n\t\tmain.is_mobile = function() {\n\t\t\t$timeout( function() {\n\t\t\t\t$rootScope.mobile = ( $window.innerWidth < 961 ? true : false );\n\t\t\t\tmain.reset_menus();\n\t\t\t\t$rootScope.$broadcast( 'window-resized' );\n\t\t\t});\n\t\t};\n\n\t\tmain.resize_event = function() {\n\t\t\t$timeout.cancel( main.after_resize );\n\t\t\tmain.after_resize = $timeout( function() {\n\t\t\t\tmain.is_mobile();\n\t\t\t}, 750);\n\t\t};\n\n\t\tangular.element( $window ).on( 'resize', main.resize_event );\n\n\t\t$scope.$on( '$stateChangeStart', main.reset_menus );\n\n\t\tmain.toggle_chat = function() {\n\t\t\t$timeout( function() {\n\t\t\t\tif( main.chat_open ) {\n\t\t\t\t\t$rootScope.classes.splice( $rootScope.classes.indexOf( 'chat-open' ), 1 );\n\t\t\t\t} else {\n\t\t\t\t\t$rootScope.classes.push( 'chat-open' );\n\t\t\t\t}\n\t\t\t\tmain.chat_open = ! main.chat_open;\n\t\t\t});\n\t\t};\n\n\t\tmain.random_users = [\n\t\t\tMath.floor( ( Math.random() * 1000 ) + 1 ),\n\t\t\tMath.floor( ( Math.random() * 1000 ) + 1 ),\n\t\t\tMath.floor( ( Math.random() * 1000 ) + 1 ),\n\t\t\tMath.floor( ( Math.random() * 1000 ) + 1 )\n\t\t];\n\n\t\tmain.message_list = [];\n\n\t\tangular.forEach( main.random_users, function( value, key ) {\n\t\t\tmain.message_list.push( main.contacts[value] );\n\t\t\tmain.message_list[key].messages[0].date = new Date().toDateString();\n\t\t});\n\n\t\tmain.message_provider = $interval( function() {\n\t\t\tvar i = Math.floor( ( Math.random() * 900 ) + 1 );\n\t\t\tmain.message_list.unshift( main.contacts[i] );\n\t\t\tvar date = new Date();\n\t\t\tmain.message_list[0].messages[0].date = date.toDateString() + ' - ' + date.toLocaleTimeString();\n\t\t\tif( main.message_timeout ) {\n\t\t\t\t$timeout.cancel( main.message_timeout );\n\t\t\t\tmain.message = null;\n\t\t\t}\n\t\t\tmain.message_added = 'New message from ' + main.contacts[i].first_name + ' ' + main.contacts[i].last_name;\n\t\t\tmain.message_timeout = $timeout( function() {\n\t\t\t\tmain.message_added = null;\n\t\t\t}, 3200 );\n\t\t\tif( main.message_list.length > 19 ) {\n\t\t\t\tmain.message_list.pop();\n\t\t\t}\n\t\t}, Math.floor( ( Math.random() * 17000 ) + 5000 ) );\n\n\t\t$scope.$on( '$stateChangeStart', function() {\n\t\t\tmain.chat_open = false;\n\t\t\tif( $rootScope.classes.indexOf( 'chat-open' ) > -1 ) {\n\t\t\t\t$rootScope.classes.splice( $rootScope.classes.indexOf( 'chat-open' ), 1 );\n\t\t\t}\n\t\t});\n\n\t\tmain.listen = $scope.$on( 'collate', function() {\n\t\t\tmain.chat_open = true;\n\t\t\t$rootScope.classes.push( 'chat-open' );\n\t\t});\n\n\t\t$scope.$on( '$destroy', function() {\n\t\t\tmain = null;\n\t\t});\n\n\t}\n\t\n})();","(function() {\n\n\t'use strict';\n\n\tangular\n\t\t.module( 'nhs' )\n\t\t.directive( 'siteLoader', siteLoader );\n\n\tfunction siteLoader() {\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplate: '<div class=\"loader-wrap\" data-ng-if=\"loading\"><svg class=\"circular\" viewBox=\"25 25 50 50\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"4\" stroke-miterlimit=\"10\"/></svg></div>'\n\t\t};\n\n\t}\n\n})();","(function() {\n\t'use strict';\n\n\tangular\n\t.module( 'nhs' )\n\t.controller( 'ProjectController', ProjectController );\n\n\tProjectController.$inject = [ '$scope', '$interval' ];\n\n\tfunction ProjectController( $scope, $interval ) {\n\n\t\tvar project = this;\n\t\tproject.random_user = Math.floor( ( Math.random() * 1000 ) + 1 );\n\n\t\t// Top graph\n\n\t\tproject.chart = {};\n\t\tproject.chart.labels = [\"2019\", \"2020\", \"2021\", \"2022\", \"2023\", \"2024\"];\n\t\tproject.chart.series = ['BUDGET', 'HIP REPLACEMENTS', 'TRAMADOL PRESCRIPTIONS'];\n\t\tproject.chart.data = [\n\t\t\t[5, 10, 15, 20, 25, 30, 35],\n\t\t\t[10, 14, 18, 32, 26, 48, 48],\n\t\t\t[16, 22, 28, 38, 42, 24, 10]\n\t\t];\n\n\t\t// Switch models\n\n\t\tproject.switch_model = [\n\t\t\ttrue, \n\t\t\tfalse,\n\t\t\ttrue,\n\t\t\ttrue,\n\t\t\tfalse\n\t\t];\n\n\t\t// Slider models\n\n\t\tproject.slider_models = [\n\t\t\t40,\n\t\t\t80,\n\t\t\t12,\n\t\t\t26\n\t\t];\n\n\t\tproject.show_query_results = function(event) {\n\t\t\tevent.preventDefault();\n\t\t\tproject.reveal_results = true;\n\t\t};\n\n\t\tproject.clear_query = function() {\n\n\t\t};\n\n\t\t// Randomise based on user action\n\n\t\tproject.randomize = function () {\n\t\t\tproject.chart.data = project.chart.data.map( function( data ) {\n\t\t\t\treturn data.map(function (y) {\n\t\t\t\t\ty = y + Math.random() * 4 - 2;\n\t\t\t\t\treturn parseInt(y < 0 ? 0 : y > 100 ? 100 : y);\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tproject.increment = function( min, max ) {\n\t\t\tproject.chart.data = project.chart.data.map( function( data ) {\n\t\t\t\treturn data.map( function( y ) {\n\t\t\t\t\tmin = Math.ceil( min );\n\t\t\t\t\tmax = Math.floor( max );\n\t\t\t\t\treturn y + Math.floor(Math.random() * ( max - min ) ) + min;\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tproject.real_time = $interval( function() {\n\t\t\tproject.increment( 1, 3 );\n\t\t}, 5000 );\n\n\n\t\tproject.open_case_study = function( title ) {\n\t\t\tproject.case_study_open = true;\n\t\t\tproject.case_study_title = title + ' Case Study';\n\t\t};\n\n\t\t// Case study graph\n\n\t\tproject.case_study = {};\n\t\tproject.case_study.labels = [\"2019\", \"2020\", \"2021\", \"2022\", \"2023\"];\n\t\tproject.case_study.series = ['HIP REPLACEMENTS', 'WEATHER', 'TRAMADOL PRESCRIPTIONS'];\n\t\tproject.case_study.data = [\n\t\t\t[4, 12, 60, 54, 72, 90],\n\t\t\t[10, 14, 18, 32, 26, 48],\n\t\t\t[16, 22, 28, 38, 42, 48]\n\t\t];\n\n\t\tangular.forEach( project.case_study.data, function( value, key ) {\n\t\t\tproject.case_study.data[key].reverse();\n\t\t});\n\n\t\tproject.uptake = {\n\t\t\tseries: [\n\t\t\t\t'NHS Croydon CCG',\n\t\t\t\t'NHS Aylesbury Vale CCG',\n\t\t\t\t'HS Cumbria CCG',\n\t\t\t\t'NHS Medway CCG'\n\t\t\t],\n\t\t\tlabels: [\"Previous surgery\",\"Living Arrangements\",\"Disability\",\"Heart Disease\",\"High Blood Pressure\",\"Stroke\",\"Circulation\",\"Lung Disease\",\"Diabets\",\"Cancer\",\"Depression\",\"Arthritis\"],\n\t\t\tdata: [\n\t\t\t\t[\"4\",\"3\",\"8\",\"7\",\"7\",\"6\",\"4\",\"7\",\"2\",\"2\",\"4\",\"7\"], \n\t\t\t\t[\"6\",\"2\",\"7\",\"5\",\"6\",\"5\",\"3\",\"6\",\"2\",\"1\",\"5\",\"6\"], \n\t\t\t\t[\"8\",\"1\",\"3\",\"3\",\"9\",\"6\",\"5\",\"8\",\"3\",\"5\",\"3\",\"7\"], \n\t\t\t\t[\"7\",\"5\",\"5\",\"5\",\"5\",\"6\",\"4\",\"7\",\"2\",\"2\",\"4\",\"5\"]\n\t\t\t],\n\t\t\toptions: {\n\t\t        scales: {\n\t\t            xAxes: [{\n\t\t                barThickness: 4\n\t\t            }],\n\t\t            yAxes: [{\n\t\t                barThickness: 4\n\t\t            }]\n\t\t        }\n\t\t\t}\n\t\t};\n\n\t\tproject.enable_fragility = true;\n\t\tproject.enable_obesity = true;\n\t\tproject.enable_physio = true;\n\t\tproject.enable_lifestyle = true;\n\n\t\t// Availability chart\n\n\t\tproject.availability = {\n\t\t\tseries: [\n\t\t\t\t'Leeds General Infirmary',\n\t\t\t\t'St Jamess University Hospital',\n\t\t\t\t'Chapel Allerton Hospital',\n\t\t\t\t'Seacroft Hospital',\n\t\t\t\t'Wharfedale Hospital'\n\t\t\t],\n\t\t\tlabels: [\n\t\t\t\t'Clinicians',\n\t\t\t\t'Surgeons',\n\t\t\t\t'Beds',\n\t\t\t\t'Nursing staff'\n\t\t\t],\n\t\t\tdata: [\n\t\t\t\t['24', '48', '42', '63', '43'],\n\t\t\t\t['31', '29', '36', '15', '47'],\n\t\t\t\t['27', '22', '52', '14', '52'],\n\t\t\t\t['28', '19', '42', '39', '18'],\n\t\t\t\t['36', '15', '37', '28', '58'],\n\t\t\t\t['29', '26', '49', '45', '65']\n\t\t\t],\n\t\t\toptions: {\n\t\t        scales: {\n\t\t            xAxes: [{\n\t\t                barThickness: 4\n\t\t            }],\n\t\t            yAxes: [{\n\t\t                barThickness: 4\n\t\t            }]\n\t\t        }\n\t\t\t}\n\t\t};\n\n\t\tproject.increment_availability = function() {\n\t\t\tangular.forEach( project.availability.data, function( value, key ) {\n\t\t\t\tangular.forEach( value, function( v, k ) {\n\t\t\t\t\tif( Math.random() < 0.5 ) {\n\t\t\t\t\t\tvar min = Math.ceil( parseInt( v ) - 2 );\n\t\t\t\t\t\tvar max = Math.floor( parseInt( v ) + 2 );\n\t\t\t\t\t\tproject.availability.data[key][k] = Math.random() * ( max - min ) + min;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tproject.real_time_availability = $interval( function() {\n\t\t\tproject.increment_availability();\n\t\t}, 3000 );\n\n\t\t$scope.$on( '$destroy', function() {\n\t\t\t$interval.cancel( project.real_time );\n\t\t\t$interval.cancel( project.real_time_availability );\n\t\t\tproject = null;\n\t\t});\n\n\n\t}\n\n})();","(function() {\n\t'use strict';\n\n\tangular\n\t.module( 'nhs' )\n\t.controller( 'UnderstandController', UnderstandController );\n\n\tUnderstandController.$inject = [ '$scope', '$timeout', '$interval' ];\n\n\tfunction UnderstandController( $scope, $timeout, $interval ) {\n\n\t\tvar understand = this;\n\t\tunderstand.random_user = Math.floor( ( Math.random() * 1000 ) + 1 );\n\n\t\t// Top graph\n\n\t\tunderstand.chart = {};\n\t\tunderstand.chart.labels = [\"2019\", \"2020\", \"2021\", \"2022\", \"2023\"];\n\t\tunderstand.chart.series = ['BUDGET', 'HIP REPLACEMENTS', 'TRAMADOL PRESCRIPTIONS'];\n\t\tunderstand.chart.data = [\n\t\t\t[5, 10, 15, 20, 25, 30],\n\t\t\t[10, 14, 18, 32, 26, 48],\n\t\t\t[16, 22, 28, 38, 42, 48]\n\t\t];\n\n\t\t// Query chart\n\n\t\tunderstand.uptake = {};\n\t\tunderstand.uptake.labels = ['Pregnant', '6 months - 65 at risk', '65+',];\n\t\tunderstand.uptake.series = ['Registered patients', '2016 uptake', 'Projected uptake'];\n\t\tunderstand.uptake.legend = ['Total patients', '2016 uptake', 'Projected uptake'];\n\n\t\tunderstand.uptake.data = [\n\t\t\t[20491, 14429, 1376],\n\t\t\t[14606, 5865, 633],\n\t\t\t[18200, 10500, 1100]\n\t\t];\n\n\t\tangular.forEach( understand.uptake.data, function( value, key ) {\n\t\t\tunderstand.uptake.data[key].reverse();\n\t\t});\n\n\t\tunderstand.result_chart = {};\n\t\tunderstand.result_chart.data = [ '38' ];\n\t\tunderstand.result_chart.labels = [ '38' ];\n\t\tunderstand.result_chart.series = [ 'West Chesire' ];\n\t\tunderstand.result_chart.options = { legend: { display: false } };\n\n\t\tunderstand.update_chart = function() {\n\t\t\tunderstand.result_chart.data = [ \n\t\t\t\t'38',\n\t\t\t\t'32',\n\t\t\t\t'47',\n\t\t\t\t'22'\n\t\t\t];\n\t\t\tunderstand.result_chart.labels = [ \n\t\t\t\t'38',\n\t\t\t\t'32',\n\t\t\t\t'47',\n\t\t\t\t'22'\n\t\t\t];\n\t\t\tunderstand.result_chart.series = [ \n\t\t\t\t'West Chesire',\n\t\t\t\t'Bracknell And Ascot',\n\t\t\t\t'Brent',\n\t\t\t\t'Cannock Chase'\n\t\t\t];\n\t\t};\n\n\t\tunderstand.open_case_study = function( title ) {\n\t\t\tunderstand.case_study_open = true;\n\t\t\tunderstand.case_study_title = title + ' Case Study';\n\t\t};\n\n\t\tunderstand.search = function() {\n\t\t\tif( understand.query ) {\n\t\t\t\tif( ! understand.show_results ) {\n\t\t\t\t\tunderstand.show_results = true;\n\t\t\t\t} else {\n\t\t\t\t\tunderstand.show_second_query_data = true;\n\t\t\t\t\tunderstand.update_chart();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Case study graph\n\n\t\tunderstand.case_study = {};\n\t\tunderstand.case_study.labels = [\"2019\", \"2020\", \"2021\", \"2022\", \"2023\"];\n\t\tunderstand.case_study.series = ['HIP REPLACEMENTS', 'WEATHER', 'TRAMADOL PRESCRIPTIONS'];\n\t\tunderstand.case_study.data = [\n\t\t\t[4, 12, 60, 54, 72, 90],\n\t\t\t[10, 14, 18, 32, 26, 48],\n\t\t\t[16, 22, 28, 38, 42, 48]\n\t\t];\n\n\t\tangular.forEach( understand.case_study.data, function( value, key ) {\n\t\t\tunderstand.case_study.data[key].reverse();\n\t\t});\n\n\t\tunderstand.initialize_capabilities = function() {\n\t\t\tunderstand.hospital_capabilities = [{title: 'Leeds General Infirmary', count: 114, width: '0%'}, {title: 'St James\\'s University Hospital', count: 86, width: '0%' }, {title: 'Chapel Allerton Hospital', count: 65, width: '0%'}, {title: 'Leeds Children\\'s Hospital', count: 58, width: '0%'}, {title: 'Leeds Dental Institute', count: 87, width: '0%' }, {title: 'Seacroft Hospital', count: 87, width: '0%'}, {title: 'Wharfedale Hospital', count: 97, width: '0%' } ];\n\t\t};\n\n\t\tunderstand.initialize_capabilities();\n\n\t\tunderstand.animate_number = function( start, end, index, duration ) {\n\n\t\t\tif( ! understand.interval ) {\n\t\t\t\tunderstand.interval = [];\n\t\t\t}\n\n\t\t\tunderstand.interval[index] = $interval( function() {\n\t\t\t\tunderstand.hospital_capabilities[index].display_count = start;\n\t\t\t\tif( start == end ) {\n\t\t\t\t\tif( start > 95 ) understand.hospital_capabilities[index].pulse = true;\n\t\t\t\t\t $interval.cancel( understand.interval[index] );\n\t\t\t\t} else {\n\t\t\t\t\tstart++;\n\t\t\t\t}\n\t\t\t}, duration );\n\n\t\t};\n\n\t\tunderstand.reveal_capability = function( index ) {\n\t\t\t$timeout( function() {\n\t\t\t\tunderstand.animate_number( 0, understand.hospital_capabilities[index].count, index, 10 );\n\t\t\t\tif( understand.hospital_capabilities[index].count > 90 ) understand.hospital_capabilities[index].alert = true;\n\t\t\t\t$timeout( function() {\n\t\t\t\t\tunderstand.hospital_capabilities[index].width = ( understand.hospital_capabilities[index].count > 100 ? '100%' : understand.hospital_capabilities[index].count + '%' );\n\t\t\t\t}, 200 );\n\t\t\t\tif( index < ( understand.hospital_capabilities.length - 1 ) ) {\n\t\t\t\t\tunderstand.reveal_capability( ( index + 1 ) );\n\t\t\t\t}\n\t\t\t}, 400);\n\t\t};\n\n\t\tunderstand.toggle_capabilities = function() {\n\t\t\tif( ! understand.show_at_risk_areas ) {\n\t\t\t\tunderstand.reveal_capability(0);\n\t\t\t} else {\n\t\t\t\tangular.forEach( understand.hospital_capabilities, function( value, key ) {\n\t\t\t\t\tunderstand.initialize_capabilities();\n\t\t\t\t});\n\t\t\t}\n\t\t\tunderstand.show_at_risk_areas = ! understand.show_at_risk_areas;\n\t\t};\n\n\t\t$scope.$on( '$destroy', function() {\n\t\t\tunderstand = null;\n\t\t});\n\n\t}\n\n})();"]}