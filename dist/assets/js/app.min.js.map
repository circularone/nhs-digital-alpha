{"version":3,"sources":["state-configurations/collate.config.js","state-configurations/dashboard.config.js","state-configurations/decide.config.js","state-configurations/home.config.js","state-configurations/main.config.js","state-configurations/project.config.js","state-configurations/understand.config.js","nhs.module.js","nhs.run.js","nhs.config.js","collate/js/collate.controller.js","decide/js/decide.controller.js","dashboard/js/dashboard.controller.js","home/js/home.controller.js","main/js/contacts.Factory.js","main/js/main.controller.js","main/js/site-loader.directive.js","project/js/project.controller.js","understand/js/understand.controller.js"],"names":["collate_config","url","views","content","templateUrl","controller","controllerAs","dashboard_config","decide_config","home_config","main_config","abstract","layout","resolve","contacts","contactsFactory","getContacts","project_config","understand_config","angular","module","run","$rootScope","$window","$timeout","$state","$location","classes","$on","event","toState","toParams","fromState","fromParams","options","fixed","loading","scrollTo","push","name","split","join","replace","$inject","config","$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider","$sceDelegateProvider","$urlMatcherFactoryProvider","$provide","$qProvider","ChartJsProvider","html5Mode","useApplyAsync","rule","$injector","path","length","substr","setOptions","colors","legend","display","position","global","defaultFontFamily","defaultFontSize","defaultFontStyle","animation","duration","otherwise","state","CollateController","$scope","$interval","collate","this","random_user","Math","floor","random","$broadcast","chart","labels","series","data","switch_model","slider_models","show_query_results","preventDefault","reveal_results","clear_query","randomize","map","y","parseInt","increment","min","max","ceil","real_time","open_case_study","title","case_study_open","case_study_title","case_study","uptake","scales","xAxes","barThickness","yAxes","enable_fragility","enable_obesity","enable_physio","enable_lifestyle","availability","increment_availability","forEach","value","key","v","k","real_time_availability","cancel","DecideController","decide","hide_suggestions","block_remove","show_suggestions","select_user","index","set_active_day","element","removeClass","target","addClass","DashboardController","dashboard","graph","HomeController","home","go","$http","slug","getContactsComplete","response","getContactsFailed","error","console","log","get","then","catch","factory","MainController","main","mobile","innerWidth","reset_menus","menu_open","toggle_menu","is_mobile","resize_event","after_resize","on","toggle_chat","chat_open","splice","indexOf","random_users","message_list","messages","date","Date","toDateString","message_provider","i","unshift","toLocaleTimeString","message_timeout","message","message_added","first_name","last_name","pop","listen","siteLoader","restrict","template","directive","ProjectController","project","reverse","UnderstandController","understand","result_chart","update_chart","search","query","show_results","show_second_query_data","initialize_capabilities","hospital_capabilities","count","width","animate_number","start","end","interval","display_count","pulse","reveal_capability","alert","toggle_capabilities","show_at_risk_areas"],"mappings":"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","file":"app.min.js","sourcesContent":["function collate_config( ) {\n\n\treturn {\n\t\turl: '/collate',\n\t\tviews: {\n\t\t\t'content': {\n\t\t\t\ttemplateUrl: '/views/collate.html',\n\t\t\t\tcontroller: 'CollateController',\n\t\t\t\tcontrollerAs: 'collate'\n\t\t\t}\n\t\t}\n\t};\n\n}","function dashboard_config() {\n\n\treturn {\n\t\turl: '/dashboard',\n\t\tviews: {\n\t\t\t'content': {\n\t\t\t\ttemplateUrl: '/views/dashboard.html',\n\t\t\t\tcontroller: 'DashboardController',\n\t\t\t\tcontrollerAs: 'dashboard'\n\t\t\t}\n\t\t}\n\t};\n\n}","function decide_config() { \n\n\treturn {\n\t\turl: '/decide',\n\t\tviews: {\n\t\t\t'content': {\n\t\t\t\ttemplateUrl: '/views/decide.html',\n\t\t\t\tcontroller: 'DecideController',\n\t\t\t\tcontrollerAs: 'decide'\n\t\t\t}\n\t\t}\n\t};\n\n}","function home_config() {\n\n\treturn {\n\t\turl: '/',\n\t\tviews: {\n\t\t\t'content': {\n\t\t\t\ttemplateUrl: '/views/home.html',\n\t\t\t\tcontroller: 'HomeController',\n\t\t\t\tcontrollerAs: 'home'\n\t\t\t}\n\t\t}\n\t};\n\n}","function main_config() {\n\n\treturn {\n\t\tabstract: true,\n\t\tviews: {\n\t\t\t'layout': {\n\t\t\t\tcontroller: 'MainController',\n\t\t\t\tcontrollerAs: 'main'\n\t\t\t}\n\t\t},\n\t\tresolve: {\n\t\t\tcontacts: [ 'contactsFactory', function( contactsFactory ) {\n\t\t\t\treturn contactsFactory.getContacts();\t\n\t\t\t}]\n\t\t}\n\t};\n\n}","function project_config( ) {\n\n\treturn {\n\t\turl: '/project',\n\t\tviews: {\n\t\t\t'content': {\n\t\t\t\ttemplateUrl: '/views/project.html',\n\t\t\t\tcontroller: 'ProjectController',\n\t\t\t\tcontrollerAs: 'project'\n\t\t\t}\n\t\t}\n\t};\n\n}","function understand_config( ) {\n\n\treturn {\n\t\turl: '/understand',\n\t\tviews: {\n\t\t\t'content': {\n\t\t\t\ttemplateUrl: '/views/understand.html',\n\t\t\t\tcontroller: 'UnderstandController',\n\t\t\t\tcontrollerAs: 'understand'\n\t\t\t}\n\t\t}\n\t};\n\n}"," (function() {\n\n\t'use strict';\n\n\tangular\n\t\t.module('nhs', [\n\t\t\t'ui.router',\n\t\t\t'ngAnimate',\n\t\t\t'ngSanitize',\n\t\t\t'chart.js'\n\t\t]);\n\n})();","(function() {\n\n\t'use strict';\n\n\tangular\n\t\t.module( 'nhs' )\n\t\t.run( run );\n\n\trun.$inject = [ '$rootScope', '$window', '$timeout', '$state', '$location' ];\n\n\tfunction run( $rootScope, $window, $timeout, $state, $location ) {\n\n\t\t// Body classes\n\n\t\t$rootScope.classes = [];\n\n\t\t// State change start\n\n\t\t$rootScope.$on( '$stateChangeStart', function( event, toState, toParams, fromState, fromParams, options ) {\n\t\t\t$rootScope.classes = [];\n\t\t\t$rootScope.fixed = false;\n\t\t\t$rootScope.loading = true;\n\t\t});\n\n\n\t\t// State change success\n\n\t\t$rootScope.$on( '$stateChangeSuccess', function( event, toState, toParams, fromState, fromParams, options ) {\n\t\t\t$window.scrollTo(0, 0);\n\t\t\t$rootScope.loading = false;\n\t\t\t$rootScope.classes.push( toState.name.split( '.' ).join( '-' ).replace( '_', '-' ) );\n\t\t});\n\n\t}\n\n})();"," (function() {\n\n \t'use strict';\n\n \tangular\n\t \t.module( 'nhs' )\n\t \t.config( config );\n\n \tconfig.$inject = [ '$stateProvider', '$urlRouterProvider', '$locationProvider', '$httpProvider', '$sceDelegateProvider', '$urlMatcherFactoryProvider', '$provide', '$qProvider', 'ChartJsProvider' ];\n\n \tfunction config( $stateProvider, $urlRouterProvider, $locationProvider, $httpProvider, $sceDelegateProvider, $urlMatcherFactoryProvider, $provide, $qProvider, ChartJsProvider ) {\n\n \t\t// HTML5 mode for pretty URLs\n\n \t\t$locationProvider.html5Mode( true );\n\n \t\t$httpProvider.useApplyAsync( true );\n\n \t\t// Remove any trailing slashes from URLs as they break ui-router\n\n\t\t$urlRouterProvider.rule(function( $injector, $location ) {\n\t\t\tvar path = $location.path();\n\t\t\tvar hasTrailingSlash = path[path.length-1] === '/';\n\t\t\tif( hasTrailingSlash ) {\n\t\t\t\tvar newPath = path.substr( 0, path.length - 1 ); \n\t\t\t\treturn newPath; \n\t\t\t} \n\t\t});\n\n\t\tChartJsProvider.setOptions({ \n\t\t\tcolors : [ \n\t\t\t\t'#803690', \n\t\t\t\t'#E8EDEE', \n\t\t\t\t'#DA291C', \n\t\t\t\t'#00A499', \n\t\t\t\t'#FAE100', \n\t\t\t\t'#768692', \n\t\t\t\t'#425563'\n\t\t\t],\n\t\t\tlegend: {\n\t\t\t\tdisplay: true,\n\t\t\t\tposition: 'bottom'\n\t\t\t},\n\t\t\tglobal: {\n\t\t\t\tdefaultFontFamily: 'raleway',\n\t\t\t\tdefaultFontSize: 11,\n\t\t\t\tdefaultFontStyle: '700'\n\t\t\t},\n\t\t\tanimation: {\n\t\t\t\tduration: 2000\n\t\t\t}\n\t\t});\n\n\t\t// Catch all non defined routes\n\n\t\t$urlRouterProvider.otherwise( 'main.home' );\n\n\t\t// Main abstract parent state\n\n\t\t$stateProvider\n\n\t\t// Main\n\n\t\t.state( 'main', main_config() )\n\n\t\t// Understand \n\n\t\t.state( 'main.understand', understand_config() )\n\n\t\t// Project \n\n\t\t.state( 'main.project', project_config() )\n\n\t\t// Decide\n\n\t\t.state( 'main.decide', decide_config() )\n\n\t\t// Collate\n\n\t\t.state( 'main.collate', collate_config() )\n\n\t\t// Dashboard\n\n\t\t.state( 'main.dashboard', dashboard_config() )\n\n\t\t// Home (redundant - transitions to understand)\n\n\t\t.state( 'main.home', home_config() );\n\n\t}\n\n})();","(function() {\n\t'use strict';\n\n\tangular\n\t.module( 'nhs' )\n\t.controller( 'CollateController', CollateController );\n\n\tCollateController.$inject = [ '$rootScope', '$scope', '$interval' ];\n\n\tfunction CollateController( $rootScope, $scope, $interval ) {\n\n\t\tvar collate = this;\n\t\tcollate.random_user = Math.floor( ( Math.random() * 1000 ) + 1 );\n\n\t\t$rootScope.$broadcast( 'collate' );\n\n\t\t// Top graph\n\n\t\tcollate.chart = {};\n\t\tcollate.chart.labels = [\"2019\", \"2020\", \"2021\", \"2022\", \"2023\", \"2024\"];\n\t\tcollate.chart.series = ['BUDGET', 'HIP REPLACEMENTS', 'TRAMADOL PRESCRIPTIONS'];\n\t\tcollate.chart.data = [\n\t\t\t[5, 10, 15, 20, 25, 30, 35],\n\t\t\t[10, 14, 18, 32, 26, 48, 48],\n\t\t\t[16, 22, 28, 38, 42, 24, 10]\n\t\t];\n\n\t\t// Switch models\n\n\t\tcollate.switch_model = [\n\t\t\ttrue, \n\t\t\tfalse,\n\t\t\ttrue,\n\t\t\ttrue,\n\t\t\tfalse\n\t\t];\n\n\t\t// Slider models\n\n\t\tcollate.slider_models = [\n\t\t\t40,\n\t\t\t80,\n\t\t\t12,\n\t\t\t26\n\t\t];\n\n\t\tcollate.show_query_results = function(event) {\n\t\t\tevent.preventDefault();\n\t\t\tcollate.reveal_results = true;\n\t\t};\n\n\t\tcollate.clear_query = function() {\n\n\t\t};\n\n\t\t// Randomise based on user action\n\n\t\tcollate.randomize = function () {\n\t\t\tcollate.chart.data = collate.chart.data.map( function( data ) {\n\t\t\t\treturn data.map(function (y) {\n\t\t\t\t\ty = y + Math.random() * 4 - 2;\n\t\t\t\t\treturn parseInt(y < 0 ? 0 : y > 100 ? 100 : y);\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tcollate.increment = function( min, max ) {\n\t\t\tcollate.chart.data = collate.chart.data.map( function( data ) {\n\t\t\t\treturn data.map( function( y ) {\n\t\t\t\t\tmin = Math.ceil( min );\n\t\t\t\t\tmax = Math.floor( max );\n\t\t\t\t\treturn y + Math.floor(Math.random() * ( max - min ) ) + min;\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tcollate.real_time = $interval( function() {\n\t\t\tcollate.increment( 1, 3 );\n\t\t}, 5000 );\n\n\n\t\tcollate.open_case_study = function( title ) {\n\t\t\tcollate.case_study_open = true;\n\t\t\tcollate.case_study_title = title + ' Case Study';\n\t\t};\n\n\t\t// Case study graph\n\n\t\tcollate.case_study = {};\n\t\tcollate.case_study.labels = [\"JAN\", \"FEB\", \"MAR\", \"APR\", \"MAY\", \"JUN\", \"JUL\", \"AUG\", \"SEP\", \"OCT\", \"NOV\", \"DEC\"];\n\t\tcollate.case_study.series = ['Budget'];\n\t\tcollate.case_study.data = [\n\t\t\t[6, 8.2, 7.5, 5.4, 5.8, 6.2, 6.3, 6.58, 5.4, 5.2, 4.8, 4],\n\t\t];\n\n\t\t// angular.forEach( collate.case_study.data, function( value, key ) {\n\t\t// \tcollate.case_study.data[key].reverse();\n\t\t// });\n\n\t\tcollate.uptake = {\n\t\t\tseries: [\n\t\t\t\t'NHS Croydon CCG',\n\t\t\t\t'NHS Aylesbury Vale CCG',\n\t\t\t\t'HS Cumbria CCG',\n\t\t\t\t'NHS Medway CCG'\n\t\t\t],\n\t\t\tlabels: [\"Previous surgery\",\"Living Arrangements\",\"Disability\",\"Heart Disease\",\"High Blood Pressure\",\"Stroke\",\"Circulation\",\"Lung Disease\",\"Diabets\",\"Cancer\",\"Depression\",\"Arthritis\"],\n\t\t\tdata: [\n\t\t\t\t[\"4\",\"3\",\"8\",\"7\",\"7\",\"6\",\"4\",\"7\",\"2\",\"2\",\"4\",\"7\"], \n\t\t\t\t[\"6\",\"2\",\"7\",\"5\",\"6\",\"5\",\"3\",\"6\",\"2\",\"1\",\"5\",\"6\"], \n\t\t\t\t[\"8\",\"1\",\"3\",\"3\",\"9\",\"6\",\"5\",\"8\",\"3\",\"5\",\"3\",\"7\"], \n\t\t\t\t[\"7\",\"5\",\"5\",\"5\",\"5\",\"6\",\"4\",\"7\",\"2\",\"2\",\"4\",\"5\"]\n\t\t\t],\n\t\t\toptions: {\n\t\t        scales: {\n\t\t            xAxes: [{\n\t\t                barThickness: 4\n\t\t            }],\n\t\t            yAxes: [{\n\t\t                barThickness: 4\n\t\t            }]\n\t\t        }\n\t\t\t}\n\t\t};\n\n\t\tcollate.enable_fragility = true;\n\t\tcollate.enable_obesity = true;\n\t\tcollate.enable_physio = true;\n\t\tcollate.enable_lifestyle = true;\n\n\t\t// Availability chart\n\n\t\tcollate.availability = {\n\t\t\tseries: [\n\t\t\t\t'Leeds General Infirmary',\n\t\t\t\t'St Jamess University Hospital',\n\t\t\t\t'Chapel Allerton Hospital',\n\t\t\t\t'Seacroft Hospital',\n\t\t\t\t'Wharfedale Hospital'\n\t\t\t],\n\t\t\tlabels: [\n\t\t\t\t'Clinicians',\n\t\t\t\t'Surgeons',\n\t\t\t\t'Beds',\n\t\t\t\t'Nursing staff'\n\t\t\t],\n\t\t\tdata: [\n\t\t\t\t['24', '48', '42', '63', '43'],\n\t\t\t\t['31', '29', '36', '15', '47'],\n\t\t\t\t['27', '22', '52', '14', '52'],\n\t\t\t\t['28', '19', '42', '39', '18'],\n\t\t\t\t['36', '15', '37', '28', '58'],\n\t\t\t\t['29', '26', '49', '45', '65']\n\t\t\t],\n\t\t\toptions: {\n\t\t        scales: {\n\t\t            xAxes: [{\n\t\t                barThickness: 4\n\t\t            }],\n\t\t            yAxes: [{\n\t\t                barThickness: 4\n\t\t            }]\n\t\t        }\n\t\t\t}\n\t\t};\n\n\t\tcollate.increment_availability = function() {\n\t\t\tangular.forEach( collate.availability.data, function( value, key ) {\n\t\t\t\tangular.forEach( value, function( v, k ) {\n\t\t\t\t\tif( Math.random() < 0.5 ) {\n\t\t\t\t\t\tvar min = Math.ceil( parseInt( v ) - 2 );\n\t\t\t\t\t\tvar max = Math.floor( parseInt( v ) + 2 );\n\t\t\t\t\t\tcollate.availability.data[key][k] = Math.random() * ( max - min ) + min;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tcollate.real_time_availability = $interval( function() {\n\t\t\tcollate.increment_availability();\n\t\t}, 3000 );\n\n\t\t$scope.$on( '$destroy', function() {\n\t\t\t$interval.cancel( collate.real_time );\n\t\t\t$interval.cancel( collate.real_time_availability );\n\t\t\tcollate = null;\n\t\t});\n\n\n\t}\n\n})();","(function() {\n\n\t'use strict';\n\n\tangular\n\t\t.module( 'nhs' )\n\t\t.controller( 'DecideController', DecideController );\n\n\tDecideController.$inject = [ '$scope', '$rootScope', 'contacts' ];\n\n\tfunction DecideController( $scope, $rootScope, contacts ) {\n\n\t\tvar decide = this;\n\t\tdecide.contacts = contacts;\n\n\t\tdecide.hide_suggestions = function() {\n\t\t\tif( ! decide.block_remove ) {\n\t\t\t\tdecide.show_suggestions = false;\n\t\t\t}\n\t\t};\n\n\t\tdecide.select_user = function( index ) {\n\t\t\tdecide.block_remove = false;\n\t\t\tdecide.show_suggestions = false;\n\t\t};\n\n\t\tdecide.set_active_day = function( event ) {\n\t\t\tangular.element( '.day.active' ).removeClass( 'chosen' );\n\t\t\tangular.element( event.target ).addClass( 'chosen' );\n\t\t};\n\n\t\t$scope.$on( '$destroy', function() {\n\t\t\tdecide = null;\n\t\t});\n\n\t}\n\t\n})();","(function() {\n\n\t'use strict';\n\n\tangular\n\t\t.module( 'nhs' )\n\t\t.controller( 'DashboardController', DashboardController );\n\n\tDashboardController.$inject = [ '$scope', 'contacts' ];\n\n\tfunction DashboardController( $scope, contacts ) {\n\n\t\tvar dashboard = this;\n\t\tdashboard.contacts = contacts;\n\n\t\tdashboard.graph = {\n\t\t\tlabels: [\"JAN\",\"FEB\",\"MAR\",\"APR\",\"MAY\", \"JUN\", \"JUL\", \"AUG\", \"SEP\", \"OCT\", \"NOV\", \"DEC\"],\n\t\t\tseries: ['Projected','Actual'],\n\t\t\tdata: [\n\t\t\t\t[\n\t\t\t\t\t'8.333333333333333',\n\t\t\t\t\t'16.666666666666667',\n\t\t\t\t\t'25',\n\t\t\t\t\t'33.333333333333333',\n\t\t\t\t\t'41.666666666666666',\n\t\t\t\t\t'50',\n\t\t\t\t\t'58.333333333333333',\n\t\t\t\t\t'66.666666666666666',\n\t\t\t\t\t'75',\n\t\t\t\t\t'83.333333333333333',\n\t\t\t\t\t'91.666666666666666',\n\t\t\t\t\t'100'\n\t\t\t\t],\n\t\t\t\t['9','14','21','28','75']\n\t\t\t]\n\t\t};\n\n\t\t$scope.$on( '$destroy', function() {\n\t\t\tdashboard = null;\n\t\t});\n\n\t}\n\t\n})();","(function() {\n\n\t'use strict';\n\n\tangular\n\t\t.module( 'nhs' )\n\t\t.controller( 'HomeController', HomeController );\n\n\tHomeController.$inject = [ '$scope', '$state' ];\n\n\tfunction HomeController( $scope, $state ) {\n\n\t\tvar home = this;\n\n\t\t// This state now unecessary - go to start of journey\n\n\t\t$state.go( 'main.understand' );\n\n\t\t$scope.$on( '$destroy', function() {\n\t\t\thome = null;\n\t\t});\n\n\t}\n\t\n})();","(function() {\n\n\t'use strict';\n\n\tangular\n\t\t.module( 'nhs' )\n\t\t.factory( 'contactsFactory', contactsFactory );\n\n\tcontactsFactory.$inject = [ '$http' ];\n\n\tfunction contactsFactory( $http ) {\n\n\t\treturn {\n\t\t\tgetContacts: getContacts\n\t\t};\n\n\t\tfunction getContacts( slug ) {\n\t        \n\t\t\treturn $http.get( '/assets/js/contacts.js' )\n\t\t\t\t.then( getContactsComplete )\n\t\t\t\t.catch( getContactsFailed );\n\n\t\t\tfunction getContactsComplete( response ) {\n\t\t\t\treturn response.data;\n\t\t\t}\n\n\t\t\tfunction getContactsFailed( error ) {\n\t\t\t\tconsole.log('XHR Failed for getContacts.' + error.data);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n})();","(function() {\n\n\t'use strict';\n\n\tangular\n\t\t.module( 'nhs' )\n\t\t.controller( 'MainController', MainController );\n\n\tMainController.$inject = [ '$window', '$rootScope', '$scope', 'contacts', '$timeout', '$state', '$interval' ];\n\n\tfunction MainController( $window, $rootScope, $scope, contacts, $timeout, $state, $interval ) {\n\n\t\tvar main = this;\n\t\tmain.contacts = contacts;\n\n\t\t$rootScope.mobile = ( $window.innerWidth < 961 ? true : false );\n\n\t\tmain.reset_menus = function() {\n\t\t\t$timeout( function() {\n\t\t\t\tif( main ) {\n\t\t\t\t\tmain.menu_open = ! $rootScope.mobile;\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tmain.toggle_menu = function() {\n\t\t\tmain.menu_open = ! main.menu_open;\n\t\t};\n\n\t\tmain.reset_menus();\n\n\t\tmain.is_mobile = function() {\n\t\t\t$timeout( function() {\n\t\t\t\t$rootScope.mobile = ( $window.innerWidth < 961 ? true : false );\n\t\t\t\tmain.reset_menus();\n\t\t\t\t$rootScope.$broadcast( 'window-resized' );\n\t\t\t});\n\t\t};\n\n\t\tmain.resize_event = function() {\n\t\t\t$timeout.cancel( main.after_resize );\n\t\t\tmain.after_resize = $timeout( function() {\n\t\t\t\tmain.is_mobile();\n\t\t\t}, 750);\n\t\t};\n\n\t\tangular.element( $window ).on( 'resize', main.resize_event );\n\n\t\t$scope.$on( '$stateChangeStart', main.reset_menus );\n\n\t\tmain.toggle_chat = function() {\n\t\t\t$timeout( function() {\n\t\t\t\tif( main.chat_open ) {\n\t\t\t\t\t$rootScope.classes.splice( $rootScope.classes.indexOf( 'chat-open' ), 1 );\n\t\t\t\t} else {\n\t\t\t\t\t$rootScope.classes.push( 'chat-open' );\n\t\t\t\t}\n\t\t\t\tmain.chat_open = ! main.chat_open;\n\t\t\t});\n\t\t};\n\n\t\tmain.random_users = [\n\t\t\tMath.floor( ( Math.random() * 1000 ) + 1 ),\n\t\t\tMath.floor( ( Math.random() * 1000 ) + 1 ),\n\t\t\tMath.floor( ( Math.random() * 1000 ) + 1 ),\n\t\t\tMath.floor( ( Math.random() * 1000 ) + 1 )\n\t\t];\n\n\t\tmain.message_list = [];\n\n\t\tangular.forEach( main.random_users, function( value, key ) {\n\t\t\tmain.message_list.push( main.contacts[value] );\n\t\t\tmain.message_list[key].messages[0].date = new Date().toDateString();\n\t\t});\n\n\t\tmain.message_provider = $interval( function() {\n\t\t\tvar i = Math.floor( ( Math.random() * 900 ) + 1 );\n\t\t\tmain.message_list.unshift( main.contacts[i] );\n\t\t\tvar date = new Date();\n\t\t\tmain.message_list[0].messages[0].date = date.toDateString() + ' - ' + date.toLocaleTimeString();\n\t\t\tif( main.message_timeout ) {\n\t\t\t\t$timeout.cancel( main.message_timeout );\n\t\t\t\tmain.message = null;\n\t\t\t}\n\t\t\tmain.message_added = 'New message from ' + main.contacts[i].first_name + ' ' + main.contacts[i].last_name;\n\t\t\tmain.message_timeout = $timeout( function() {\n\t\t\t\tmain.message_added = null;\n\t\t\t}, 3200 );\n\t\t\tif( main.message_list.length > 19 ) {\n\t\t\t\tmain.message_list.pop();\n\t\t\t}\n\t\t}, Math.floor( ( Math.random() * 17000 ) + 5000 ) );\n\n\t\t$scope.$on( '$stateChangeStart', function() {\n\t\t\tmain.chat_open = false;\n\t\t\tif( $rootScope.classes.indexOf( 'chat-open' ) > -1 ) {\n\t\t\t\t$rootScope.classes.splice( $rootScope.classes.indexOf( 'chat-open' ), 1 );\n\t\t\t}\n\t\t});\n\n\t\tmain.listen = $scope.$on( 'collate', function() {\n\t\t\tmain.chat_open = true;\n\t\t\t$rootScope.classes.push( 'chat-open' );\n\t\t});\n\n\t\t$scope.$on( '$destroy', function() {\n\t\t\tmain = null;\n\t\t});\n\n\t}\n\t\n})();","(function() {\n\n\t'use strict';\n\n\tangular\n\t\t.module( 'nhs' )\n\t\t.directive( 'siteLoader', siteLoader );\n\n\tfunction siteLoader() {\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplate: '<div class=\"loader-wrap\" data-ng-if=\"loading\"><svg class=\"circular\" viewBox=\"25 25 50 50\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"4\" stroke-miterlimit=\"10\"/></svg></div>'\n\t\t};\n\n\t}\n\n})();","(function() {\n\t'use strict';\n\n\tangular\n\t.module( 'nhs' )\n\t.controller( 'ProjectController', ProjectController );\n\n\tProjectController.$inject = [ '$scope', '$interval' ];\n\n\tfunction ProjectController( $scope, $interval ) {\n\n\t\tvar project = this;\n\t\tproject.random_user = Math.floor( ( Math.random() * 1000 ) + 1 );\n\n\t\t// Top graph\n\n\t\tproject.chart = {};\n\t\tproject.chart.labels = [\"2019\", \"2020\", \"2021\", \"2022\", \"2023\", \"2024\"];\n\t\tproject.chart.series = ['BUDGET', 'HIP REPLACEMENTS', 'TRAMADOL PRESCRIPTIONS'];\n\t\tproject.chart.data = [\n\t\t\t[5, 10, 15, 20, 25, 30, 35],\n\t\t\t[10, 14, 18, 32, 26, 48, 48],\n\t\t\t[16, 22, 28, 38, 42, 24, 10]\n\t\t];\n\n\t\t// Switch models\n\n\t\tproject.switch_model = [\n\t\t\ttrue, \n\t\t\tfalse,\n\t\t\ttrue,\n\t\t\ttrue,\n\t\t\tfalse\n\t\t];\n\n\t\t// Slider models\n\n\t\tproject.slider_models = [\n\t\t\t40,\n\t\t\t80,\n\t\t\t12,\n\t\t\t26\n\t\t];\n\n\t\tproject.show_query_results = function(event) {\n\t\t\tevent.preventDefault();\n\t\t\tproject.reveal_results = true;\n\t\t};\n\n\t\tproject.clear_query = function() {\n\n\t\t};\n\n\t\t// Randomise based on user action\n\n\t\tproject.randomize = function () {\n\t\t\tproject.chart.data = project.chart.data.map( function( data ) {\n\t\t\t\treturn data.map(function (y) {\n\t\t\t\t\ty = y + Math.random() * 4 - 2;\n\t\t\t\t\treturn parseInt(y < 0 ? 0 : y > 100 ? 100 : y);\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tproject.increment = function( min, max ) {\n\t\t\tproject.chart.data = project.chart.data.map( function( data ) {\n\t\t\t\treturn data.map( function( y ) {\n\t\t\t\t\tmin = Math.ceil( min );\n\t\t\t\t\tmax = Math.floor( max );\n\t\t\t\t\treturn y + Math.floor(Math.random() * ( max - min ) ) + min;\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tproject.real_time = $interval( function() {\n\t\t\tproject.increment( 1, 3 );\n\t\t}, 5000 );\n\n\n\t\tproject.open_case_study = function( title ) {\n\t\t\tproject.case_study_open = true;\n\t\t\tproject.case_study_title = title + ' Case Study';\n\t\t};\n\n\t\t// Case study graph\n\n\t\tproject.case_study = {};\n\t\tproject.case_study.labels = [\"2019\", \"2020\", \"2021\", \"2022\", \"2023\"];\n\t\tproject.case_study.series = ['HIP REPLACEMENTS', 'WEATHER', 'TRAMADOL PRESCRIPTIONS'];\n\t\tproject.case_study.data = [\n\t\t\t[4, 12, 60, 54, 72, 90],\n\t\t\t[10, 14, 18, 32, 26, 48],\n\t\t\t[16, 22, 28, 38, 42, 48]\n\t\t];\n\n\t\tangular.forEach( project.case_study.data, function( value, key ) {\n\t\t\tproject.case_study.data[key].reverse();\n\t\t});\n\n\t\tproject.uptake = {\n\t\t\tseries: [\n\t\t\t\t'NHS Croydon CCG',\n\t\t\t\t'NHS Aylesbury Vale CCG',\n\t\t\t\t'HS Cumbria CCG',\n\t\t\t\t'NHS Medway CCG'\n\t\t\t],\n\t\t\tlabels: [\"Previous surgery\",\"Living Arrangements\",\"Disability\",\"Heart Disease\",\"High Blood Pressure\",\"Stroke\",\"Circulation\",\"Lung Disease\",\"Diabets\",\"Cancer\",\"Depression\",\"Arthritis\"],\n\t\t\tdata: [\n\t\t\t\t[\"4\",\"3\",\"8\",\"7\",\"7\",\"6\",\"4\",\"7\",\"2\",\"2\",\"4\",\"7\"], \n\t\t\t\t[\"6\",\"2\",\"7\",\"5\",\"6\",\"5\",\"3\",\"6\",\"2\",\"1\",\"5\",\"6\"], \n\t\t\t\t[\"8\",\"1\",\"3\",\"3\",\"9\",\"6\",\"5\",\"8\",\"3\",\"5\",\"3\",\"7\"], \n\t\t\t\t[\"7\",\"5\",\"5\",\"5\",\"5\",\"6\",\"4\",\"7\",\"2\",\"2\",\"4\",\"5\"]\n\t\t\t],\n\t\t\toptions: {\n\t\t        scales: {\n\t\t            xAxes: [{\n\t\t                barThickness: 4\n\t\t            }],\n\t\t            yAxes: [{\n\t\t                barThickness: 4\n\t\t            }]\n\t\t        }\n\t\t\t}\n\t\t};\n\n\t\tproject.enable_fragility = true;\n\t\tproject.enable_obesity = true;\n\t\tproject.enable_physio = true;\n\t\tproject.enable_lifestyle = true;\n\n\t\t// Availability chart\n\n\t\tproject.availability = {\n\t\t\tseries: [\n\t\t\t\t'Leeds General Infirmary',\n\t\t\t\t'St Jamess University Hospital',\n\t\t\t\t'Chapel Allerton Hospital',\n\t\t\t\t'Seacroft Hospital',\n\t\t\t\t'Wharfedale Hospital'\n\t\t\t],\n\t\t\tlabels: [\n\t\t\t\t'Clinicians',\n\t\t\t\t'Surgeons',\n\t\t\t\t'Beds',\n\t\t\t\t'Nursing staff'\n\t\t\t],\n\t\t\tdata: [\n\t\t\t\t['24', '48', '42', '63', '43'],\n\t\t\t\t['31', '29', '36', '15', '47'],\n\t\t\t\t['27', '22', '52', '14', '52'],\n\t\t\t\t['28', '19', '42', '39', '18'],\n\t\t\t\t['36', '15', '37', '28', '58'],\n\t\t\t\t['29', '26', '49', '45', '65']\n\t\t\t],\n\t\t\toptions: {\n\t\t        scales: {\n\t\t            xAxes: [{\n\t\t                barThickness: 4\n\t\t            }],\n\t\t            yAxes: [{\n\t\t                barThickness: 4\n\t\t            }]\n\t\t        }\n\t\t\t}\n\t\t};\n\n\t\tproject.increment_availability = function() {\n\t\t\tangular.forEach( project.availability.data, function( value, key ) {\n\t\t\t\tangular.forEach( value, function( v, k ) {\n\t\t\t\t\tif( Math.random() < 0.5 ) {\n\t\t\t\t\t\tvar min = Math.ceil( parseInt( v ) - 2 );\n\t\t\t\t\t\tvar max = Math.floor( parseInt( v ) + 2 );\n\t\t\t\t\t\tproject.availability.data[key][k] = Math.random() * ( max - min ) + min;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tproject.real_time_availability = $interval( function() {\n\t\t\tproject.increment_availability();\n\t\t}, 3000 );\n\n\t\t$scope.$on( '$destroy', function() {\n\t\t\t$interval.cancel( project.real_time );\n\t\t\t$interval.cancel( project.real_time_availability );\n\t\t\tproject = null;\n\t\t});\n\n\n\t}\n\n})();","(function() {\n\t'use strict';\n\n\tangular\n\t.module( 'nhs' )\n\t.controller( 'UnderstandController', UnderstandController );\n\n\tUnderstandController.$inject = [ '$scope', '$timeout', '$interval' ];\n\n\tfunction UnderstandController( $scope, $timeout, $interval ) {\n\n\t\tvar understand = this;\n\t\tunderstand.random_user = Math.floor( ( Math.random() * 1000 ) + 1 );\n\n\t\t// Top graph\n\n\t\tunderstand.chart = {};\n\t\tunderstand.chart.labels = [\"2019\", \"2020\", \"2021\", \"2022\", \"2023\"];\n\t\tunderstand.chart.series = ['BUDGET', 'HIP REPLACEMENTS', 'TRAMADOL PRESCRIPTIONS'];\n\t\tunderstand.chart.data = [\n\t\t\t[5, 10, 15, 20, 25, 30],\n\t\t\t[10, 14, 18, 32, 26, 48],\n\t\t\t[16, 22, 28, 38, 42, 48]\n\t\t];\n\n\t\t// Query chart\n\n\t\tunderstand.uptake = {};\n\t\tunderstand.uptake.labels = ['Pregnant', '6 months - 65 at risk', '65+',];\n\t\tunderstand.uptake.series = ['Registered patients', '2016 uptake', 'Projected uptake'];\n\t\tunderstand.uptake.legend = ['Total patients', '2016 uptake', 'Projected uptake'];\n\n\t\tunderstand.uptake.data = [\n\t\t\t[20491, 14429, 1376],\n\t\t\t[14606, 5865, 633],\n\t\t\t[18200, 10500, 1100]\n\t\t];\n\n\t\tangular.forEach( understand.uptake.data, function( value, key ) {\n\t\t\tunderstand.uptake.data[key].reverse();\n\t\t});\n\n\t\tunderstand.result_chart = {};\n\t\tunderstand.result_chart.data = [ '38' ];\n\t\tunderstand.result_chart.labels = [ '38' ];\n\t\tunderstand.result_chart.series = [ 'West Chesire' ];\n\t\tunderstand.result_chart.options = { legend: { display: false } };\n\n\t\tunderstand.update_chart = function() {\n\t\t\tunderstand.result_chart.data = [ \n\t\t\t\t'38',\n\t\t\t\t'32',\n\t\t\t\t'47',\n\t\t\t\t'22'\n\t\t\t];\n\t\t\tunderstand.result_chart.labels = [ \n\t\t\t\t'38',\n\t\t\t\t'32',\n\t\t\t\t'47',\n\t\t\t\t'22'\n\t\t\t];\n\t\t\tunderstand.result_chart.series = [ \n\t\t\t\t'West Chesire',\n\t\t\t\t'Bracknell And Ascot',\n\t\t\t\t'Brent',\n\t\t\t\t'Cannock Chase'\n\t\t\t];\n\t\t};\n\n\t\tunderstand.open_case_study = function( title ) {\n\t\t\tunderstand.case_study_open = true;\n\t\t\tunderstand.case_study_title = title + ' Case Study';\n\t\t};\n\n\t\tunderstand.search = function() {\n\t\t\tif( understand.query ) {\n\t\t\t\tif( ! understand.show_results ) {\n\t\t\t\t\tunderstand.show_results = true;\n\t\t\t\t} else {\n\t\t\t\t\tunderstand.show_second_query_data = true;\n\t\t\t\t\tunderstand.update_chart();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Case study graph\n\n\t\tunderstand.case_study = {};\n\t\tunderstand.case_study.labels = [\"2019\", \"2020\", \"2021\", \"2022\", \"2023\"];\n\t\tunderstand.case_study.series = ['HIP REPLACEMENTS', 'WEATHER', 'TRAMADOL PRESCRIPTIONS'];\n\t\tunderstand.case_study.data = [\n\t\t\t[4, 12, 60, 54, 72, 90],\n\t\t\t[10, 14, 18, 32, 26, 48],\n\t\t\t[16, 22, 28, 38, 42, 48]\n\t\t];\n\n\t\tangular.forEach( understand.case_study.data, function( value, key ) {\n\t\t\tunderstand.case_study.data[key].reverse();\n\t\t});\n\n\t\tunderstand.initialize_capabilities = function() {\n\t\t\tunderstand.hospital_capabilities = [{title: 'Leeds General Infirmary', count: 114, width: '0%'}, {title: 'St James\\'s University Hospital', count: 86, width: '0%' }, {title: 'Chapel Allerton Hospital', count: 65, width: '0%'}, {title: 'Leeds Children\\'s Hospital', count: 58, width: '0%'}, {title: 'Leeds Dental Institute', count: 87, width: '0%' }, {title: 'Seacroft Hospital', count: 87, width: '0%'}, {title: 'Wharfedale Hospital', count: 97, width: '0%' } ];\n\t\t};\n\n\t\tunderstand.initialize_capabilities();\n\n\t\tunderstand.animate_number = function( start, end, index, duration ) {\n\n\t\t\tif( ! understand.interval ) {\n\t\t\t\tunderstand.interval = [];\n\t\t\t}\n\n\t\t\tunderstand.interval[index] = $interval( function() {\n\t\t\t\tunderstand.hospital_capabilities[index].display_count = start;\n\t\t\t\tif( start == end ) {\n\t\t\t\t\tif( start > 95 ) understand.hospital_capabilities[index].pulse = true;\n\t\t\t\t\t $interval.cancel( understand.interval[index] );\n\t\t\t\t} else {\n\t\t\t\t\tstart++;\n\t\t\t\t}\n\t\t\t}, duration );\n\n\t\t};\n\n\t\tunderstand.reveal_capability = function( index ) {\n\t\t\t$timeout( function() {\n\t\t\t\tunderstand.animate_number( 0, understand.hospital_capabilities[index].count, index, 10 );\n\t\t\t\tif( understand.hospital_capabilities[index].count > 90 ) understand.hospital_capabilities[index].alert = true;\n\t\t\t\t$timeout( function() {\n\t\t\t\t\tunderstand.hospital_capabilities[index].width = ( understand.hospital_capabilities[index].count > 100 ? '100%' : understand.hospital_capabilities[index].count + '%' );\n\t\t\t\t}, 200 );\n\t\t\t\tif( index < ( understand.hospital_capabilities.length - 1 ) ) {\n\t\t\t\t\tunderstand.reveal_capability( ( index + 1 ) );\n\t\t\t\t}\n\t\t\t}, 400);\n\t\t};\n\n\t\tunderstand.toggle_capabilities = function() {\n\t\t\tif( ! understand.show_at_risk_areas ) {\n\t\t\t\tunderstand.reveal_capability(0);\n\t\t\t} else {\n\t\t\t\tangular.forEach( understand.hospital_capabilities, function( value, key ) {\n\t\t\t\t\tunderstand.initialize_capabilities();\n\t\t\t\t});\n\t\t\t}\n\t\t\tunderstand.show_at_risk_areas = ! understand.show_at_risk_areas;\n\t\t};\n\n\t\t$scope.$on( '$destroy', function() {\n\t\t\tunderstand = null;\n\t\t});\n\n\t}\n\n})();"]}